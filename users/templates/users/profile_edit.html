{% extends "main/base.html" %}
{% block title %}Profile Page{% endblock title %}
{% block content %}
	<div class="container-fluid mx-auto py-5 min-vh-100 ">
		<div class="row d-flex justify-content-center align-items-center">
			<div class="col col-xxl-9 ">
				<div class="card"  style="background-color:#222">
					<div class="form-content">
						<form method="post" enctype="multipart/form-data">
							{% csrf_token %}
							<div class="rounded-top px-4 py-3 text-white d-flex flex-row border-bottom border-secondary" style="height:250px; background-color:161a1d">
								<div class="ms-2 mt-2 d-flex flex-column text-center" style="width: 150px; height: 150px;">
									<img src={{user.profile.avatar.url}} class="justify-content-center img-fluid img-thumbnail mt-4 mb-2" style="width: 150px; z-index: 1">
									<p>{{user}}</p>
								</div>
								<div class="container  px-4 py-3 ms-2 mt-2">
									<div class="row ">
										<div class="col">
											<nav>
												<div class="nav nav-tabs" id="nav-tab" role="tablist">
													<button class="nav-link active bg-transparent" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" 
													type="button" role="tab" aria-controls="description" aria-selected="true">Description</button>
													{% comment %} <button class="nav-link" id="totalvideos-tab" data-bs-toggle="tab" data-bs-target="#totalvideos" 
													type="button" role="tab" aria-controls="totalvideos" aria-selected="false">Total videos</button>
													<button class="nav-link" id="totallikes-tab" data-bs-toggle="tab" data-bs-target="#totallikes" 
													type="button" role="tab" aria-controls="totallikes" aria-selected="false">Contact</button> {% endcomment %}
												</div>
											</nav>
											<div class="tab-content p-1" id="nav-tabContent">
												<div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
													{{ user.profile.bio }}</div>
												<div class="tab-pane fade" id="totalvideos" role="tabpanel" aria-labelledby="totalvideos-tab">
													..32132.</div>
												<div class="tab-pane fade" id="totallikes" role="tabpanel" aria-labelledby="totallikes-tab">
													..12321.</div>
											</div>
										</div>
									</div>
								</div>

							</div>

							<div class="container mt-3">
								<div class="form-group d-flex " >
									{{ profile_form.avatar }}
									<label for="id_avatar" class="btn btn-tertiary js-labelFile  " style="margin: 0;">
										<span class="js-fileName nowrap">Upload new profile picture</span>
									</label>
								</div>
								<br>
								<label class=" mb-1">Edit description:</label> {{ profile_form.bio }}
								<br><br>

								<div class="row">
									<div class="col  justify-content-start d-flex">
										<button class=" m-btn-danger btn-outline-light p-1">
											<a class="p-0 m-0 nav-item nav-link text-white" style= "text-decoration: none;" href="{% url 'password_change' %}">Change password</a>
										</button>
									</div>
									<div class="col justify-content-end d-flex">
										<button type="submit" class="m-btn-danger btn-outline-light p-1">Save Changes</button>
									</div>
								</div>

								</div>

								</div>
							</div>

							{% comment %} <button type="reset" class="btn btn-dark ">Reset</button> {% endcomment %}
						</form>
					</div>
					

				</div>

				{% comment %} <div class="row m-3">
					{% if videos %}
						{% for video in videos %}
							<div class="col-md-4 d-flex align-items-stretch " style="width:33%">
								<div class="card bcontent flex-fill p-0 border border-secondary">
									<div class="card-body p-0 ">
									<a  href="/video/{{ video.id }}">
										<img class="gif" src="{{ video.thumbnailpath}}" width="100%" height="200px;"></img>
									</a>
									</div>
									<div class = "card-footer py-0 ">
									<p class="text-center m-0 p-0">{{video.title|truncatechars:42}}</p>
									<tr>
										<th class ="text-center">{{video.number_of_views}} Views</th>
										<th>                     
										{% if video.user %}
											<a href="/profile/{{video.user}}/">{{video.user}}</a>
										{% else %}
											anon
										{% endif %}
										</th>
									</tr>
									</div>
								</div>
							</div> 
							{% if forloop.counter|divisibleby:3 %}
								<div class="row my-3"></div>
							{% endif %}
						{% endfor %}
					{% else %}
						<p>Nothing yet</p>
					{% endif %}
				</div> {% endcomment %}
			</div>
		</div>


			{% if user_form.errors %}
			<div class="alert alert-danger alert-dismissible" role="alert">
				<div id="form_errors">
					{% for key, value in user_form.errors.items %}
						<strong>{{ value }}</strong>
					{% endfor %}
				</div>
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
		{% endif %}
	</div>
{% endblock content %}